(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{518:function(t,s,a){"use strict";a.r(s);var n=a(30),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"javascript와-node-js로-git을-통해-협업하기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript와-node-js로-git을-통해-협업하기"}},[t._v("#")]),t._v(" Javascript와 Node.js로 Git을 통해 협업하기")]),t._v(" "),a("hr"),t._v(" "),a("br"),t._v(" "),a("p",[t._v("협업 프로젝트를 하기 위해서는 Git을 잘 써야한다.")]),t._v(" "),a("p",[t._v("하나의 프로젝트를 같이 작업하면서 자신에게 주어진 파트에 대한 영역을 pull과 push 할 때 다른 팀원과 꼬이지 않도록 branch를 나누어 pull request 하는 등등..")]),t._v(" "),a("p",[t._v("협업 과정을 연습해보자")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("We follow the "),a("a",{attrs:{href:"https://guides.github.com/introduction/flow/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Flow"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://github.com/stunstunstun/awesome-javascript/blob/master/nodejs.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("10.15.0 LTS")])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://yarnpkg.com/lang/en/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yarn"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("1.12.3 or above")])])])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"git과-github을-활용한-협업-개발"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git과-github을-활용한-협업-개발"}},[t._v("#")]),t._v(" Git과 GitHub을 활용한 협업 개발")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("Git")]),t._v(" : 프로젝트를 진행할 때 소스 코드의 버전 관리를 효율적으로 처리할 수 있게 설계된 도구")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("GitHub")]),t._v(" : Git의 원격 저장소를 생성하고 관리할 수 있는 기능 제공함. 이슈와 pull request를 중심으로 요구사항을 관리")])])]),t._v(" "),a("br"),t._v(" "),a("h4",{attrs:{id:"git-저장소-생성"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-저장소-생성"}},[t._v("#")]),t._v(" Git 저장소 생성")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ mkdir awesome-javascript\n$ cd awesome-javascript\n$ git init\n")])])]),a("br"),t._v(" "),a("p",[t._v("GitHub 계정에 같은 이름의 저장소를 생성한 후, "),a("code",[t._v("git remote")]),t._v(" 명령어를 통해 원격 저장소 추가")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ git remote add origin 'Github 주소'\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"github에-이슈-등록하기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github에-이슈-등록하기"}},[t._v("#")]),t._v(" GitHub에 이슈 등록하기")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("em",[a("strong",[t._v("이슈는 왜 등록하는거죠?")])])]),t._v(" "),a("p",[t._v("코드 작성하기에 앞서, 요구사항이나 해결할 문제를 명확하게 정의하는 것이 중요")]),t._v(" "),a("p",[t._v("GitHub의 이슈 관리 기능을 활용하면 협업하는 동료와 쉽게 공유가 가능함")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("GitHub 저장소의 "),a("code",[t._v("Issues 탭에서 New issue를 클릭")]),t._v("해서 이슈를 작성할 수 있음")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("이슈와 pull request 요청에 작성하는 글의 형식을 템플릿으로 관리할 수 있음")]),t._v(" "),a("p",[t._v("(템플릿은 마크다운 형식)")]),t._v(" "),a("br"),t._v(" "),a("h4",{attrs:{id:"숨긴-폴더인-github-폴더에서-이슈-템플릿과-pull-request-템플릿을-관리하는-방법"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#숨긴-폴더인-github-폴더에서-이슈-템플릿과-pull-request-템플릿을-관리하는-방법"}},[t._v("#")]),t._v(" 숨긴 폴더인 .github 폴더에서 이슈 템플릿과 pull request 템플릿을 관리하는 방법")]),t._v(" "),a("blockquote",[a("p",[t._v("devops/github-templates 브랜치에 템플릿 파일을 생성하고 github에 푸시하자")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ git checkout -b devops/github-templates\n$ mkdir .github\n$ touch .github/ISSUE_TEMPLATE.md # Create issue template\n$ touch .github/PULL_REQUEST_TEMPLATE.md # Create pull request template\n$ git add .\n$ git commit -m ':memo: Add GitHub Templates'\n$ git push -u origin devops/github-templates\n")])])]),a("br"),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-js와-yarn으로-개발-환경-설정하기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js와-yarn으로-개발-환경-설정하기"}},[t._v("#")]),t._v(" Node.js와 Yarn으로 개발 환경 설정하기")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("오늘날 javascript는 애플리케이션 개발에 많이 사용되고 있다.")]),t._v(" "),a("p",[t._v("이때 git을 활용한 협업 환경뿐만 아니라 코드 검증, 테스트, 빌드, 배포 등의 과정에서 만나는 문제를 해결할 수 있는 개발 환경도 설정해야 한다.")]),t._v(" "),a("blockquote",[a("p",[t._v("이때 많이 사용하는 것이 Node.js와 npm, yarn")])]),t._v(" "),a("br"),t._v(" "),a("p",[a("strong",[t._v("Node.js와 npm")]),t._v(" : JavaScript가 거대한 오픈소스 생태계를 확보하는 데 결정적인 역할을 함")]),t._v(" "),a("br"),t._v(" "),a("p",[a("strong",[t._v("Node.js")]),t._v("는 Google이 V8 엔진으로 만든 Javascript 런타임 환경으로 오늘날 상당히 많이 쓰이는 중!")]),t._v(" "),a("p",[a("strong",[t._v("npm")]),t._v("은 Node.js를 설치할 때 포함되는데, 패키지를 프로젝트에 추가할 수 있도록 다양한 명령을 제공하는 패키지 관리 도구라고 보면 된다.")]),t._v(" "),a("p",[a("strong",[t._v("yarn")]),t._v("은 페이스북이 개발한 패키지 매니저로, 규모가 커지는 프로젝트에서 npm을 사용하다가 보안, 빌드 성능 문제를 겪는 문제를 해결하기 위해 탄생함")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("Node.js 설치 후, yarn을 npm 명령어를 통해 전역으로 설치하자")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ npm install yarn -g\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"프로젝트-생성"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#프로젝트-생성"}},[t._v("#")]),t._v(" 프로젝트 생성")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("code",[t._v("yarn init")]),t._v(" 명령어 실행")]),t._v(" "),a("p",[t._v("프로젝트 기본 정보를 입력하면 새로운 프로젝트가 생성됨")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("pakage.json 파일이 생성된 것을 확인할 수 있다.")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"awesome-javascript"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"repository"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/kim6394/awesome-javascript.git"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gyuseok <gyuseok6394@gmail.com>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIT"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("이 파일은 프로젝트의 모든 정보를 담고 있다.")]),t._v(" "),a("p",[t._v("이 파일에서 가장 중요한 속성은 "),a("code",[t._v("dependencies")]),t._v("로, "),a("strong",[t._v("프로젝트와 패키지 간의 의존성을 관리하는 속성")]),t._v("이다.")]),t._v(" "),a("p",[t._v("yarn의 cli 명령어로 패키지를 설치하면 package.json 파일의 dependencies 속성이 자동으로 변경됨")]),t._v(" "),a("p",[t._v("node-fetch 모듈을 설치해보자")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ yarn add node-fetch\n")])])]),a("p",[t._v("pakage.json안에 아래와 같은 내용이 추가된다.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"dependencies": {\n    "node-fetch": "^2.6.0"\n}\n')])])]),a("br"),t._v(" "),a("p",[a("em",[a("strong",[t._v("추가로 생성된 yarn.lock 파일은 뭔가요?")])])]),t._v(" "),a("p",[t._v("앱을 개발하는 도중 혹은 배포할 때 프로젝트에서 사용하는 패키지가 업데이트 되는 경우가 있다. 또한 협업하는 동료들마다 다른 버전의 패키지가 설치될 수도 있다.")]),t._v(" "),a("p",[t._v("yarn은 모든 시스템에서 패키지 버전을 일관되게 관리하기 위해 "),a("code",[t._v("yarn.lock")]),t._v(" 파일을 프로젝트 최상위 폴더에 자동으로 생성함.")]),t._v(" "),a("p",[t._v("(사용자는 이 파일을 직접 수정하면 안됨. 오로지 cli 명령어를 사용해 관리해야한다!)")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"프로젝트-공유"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#프로젝트-공유"}},[t._v("#")]),t._v(" 프로젝트 공유")]),t._v(" "),a("p",[t._v("현재 프로젝트는 Git의 원격 저장소에 반영해요 협업하는 동료와 공유가 가능하다.")]),t._v(" "),a("p",[t._v("프로젝트에 생성된 "),a("code",[t._v("pakage.json")]),t._v("과 "),a("code",[t._v("yarn.lock")]),t._v(" 파일도 원격 저장소에서 관리해야 협업하는 동료들과 애플리케이션을 안정적으로 운영하는 것이 가능해짐")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("원격 저장소에 공유 시, 모듈이 설치되는 "),a("code",[t._v("node-_modules")]),t._v(" 폴더는 제외시켜야 한다. 폴더의 용량도 크고, 어차피 "),a("strong",[t._v("yarn.lock 파일을 통해 동기화 되기 때문")]),t._v("에 따로 git 저장소에서 관리할 필요가 없음")]),t._v(" "),a("p",[t._v("따라서, 해당 폴더를 .gitignore 파일에 추가해 git 관리 대상에서 제외시키자")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('$ echo "node_modules/" > .gitignore\n')])])]),a("br"),t._v(" "),a("br"),t._v(" "),a("h4",{attrs:{id:"이슈-해결-관련-브랜치-생성-프로젝트-push"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#이슈-해결-관련-브랜치-생성-프로젝트-push"}},[t._v("#")]),t._v(" 이슈 해결 관련 브랜치 생성 & 프로젝트 push")]),t._v(" "),a("blockquote",[a("p",[t._v("이번엔 이슈 해결과 관련된 브랜치를 생성하고, 프로젝트를 github에 푸시해보자")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ git add .\n$ git checkout -b issue/1\n$ git commit -m 'Create project with Yarn'\n$ git push -u origin issue/1\n")])])]),a("br"),t._v(" "),a("p",[t._v("푸시가 완려되면, GitHub 저장소에 "),a("code",[t._v("pull request")]),t._v("가 생성된 것을 확인할 수 있다.")]),t._v(" "),a("p",[t._v("pull request는 "),a("strong",[t._v("작성한 코드를 master 브랜치에 병합하기 위해 협업하는 동료들에게 코드 리뷰를 요청하는 작업")]),t._v("임")]),t._v(" "),a("p",[t._v("Pull requests 탭에서 New pull request 버튼을 클릭해 pull request를 생성할 수 있다")]),t._v(" "),a("br"),t._v(" "),a("h4",{attrs:{id:"pull-request시-주의할-점"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pull-request시-주의할-점"}},[t._v("#")]),t._v(" pull request시 주의할 점")]),t._v(" "),a("p",[t._v("리뷰를 하는 사람에게 충분한 정보를 제공해야 함")]),t._v(" "),a("p",[t._v("새로운 기능을 추가했으면, 기능을 사용하기 위한 재현 시나리오와 테스트 시나리오를 추가하는 것이 좋음.")]),t._v(" "),a("p",[t._v("개발 환경이 변경되었다면 변경 내역도 반드시 포함하자")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"jest로-테스트-환경-설정"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jest로-테스트-환경-설정"}},[t._v("#")]),t._v(" Jest로 테스트 환경 설정")]),t._v(" "),a("p",[t._v("실제로 프로젝트를 진행하면, 활용되는 Javascript 구현 코드가 만들어질 것이고 이를 검증하는 테스트 환경이 필요하게 된다.")]),t._v(" "),a("p",[t._v("Javascript 테스트 도구로는 jest를 많이 사용한다.")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("GitHub의 REST API v3을 활용해 특정 GitHub 사용자 정보를 가져오는 코드를 작성해보고, 테스트 환경 설정 방법에 대해 알아보자")]),t._v(" "),a("br"),t._v(" "),a("h4",{attrs:{id:"테스트-코드-작성"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#테스트-코드-작성"}},[t._v("#")]),t._v(" 테스트 코드 작성")]),t._v(" "),a("p",[t._v("구현 코드 작성 이전, 구현하려는 기능의 의도를 테스트 코드로 표현해보자")]),t._v(" "),a("p",[t._v("테스트 코드 저장 폴더 : "),a("code",[t._v("__test__")])]),t._v(" "),a("p",[t._v("구현 코드 저장 폴더 : "),a("code",[t._v("lib")])]),t._v(" "),a("p",[t._v("테스트 코드 : "),a("code",[t._v("github.test.js")])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ mkdir __tests__ lib\n$ touch __tests__/github.test.js\n")])])]),a("br"),t._v(" "),a("p",[t._v("github.test.js에 테스트 코드를 작성해보자")]),t._v(" "),a("p",[t._v("내 GitHub "),a("code",[t._v("gyoogle")]),t._v(" 계정의 사용자 정보를 가져왔는지 확인하는 코드다.")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" GitHub "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../lib/github'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("describe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Integration with GitHub API'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" github\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("beforeAll")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        github "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GitHub")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            accessToken"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ACCESS_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            baseURL"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.github.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Get a user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gyoogle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toEqual")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            expect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("objectContaining")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                login"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gyoogle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("br"),t._v(" "),a("h4",{attrs:{id:"jest-설치"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jest-설치"}},[t._v("#")]),t._v(" Jest 설치")]),t._v(" "),a("p",[t._v("yarn에서 테스트 코드를 실행할 때는 "),a("code",[t._v("yarn test")])]),t._v(" "),a("p",[t._v("먼저 설치를 진행하자")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ yarn add jest --dev\n")])])]),a("hr"),t._v(" "),a("p",[a("em",[a("strong",[a("code",[t._v("--dev")]),t._v(" 속성은 뭔가요?")])])]),t._v(" "),a("blockquote",[a("p",[t._v("설치할 때 이처럼 작성하면, "),a("code",[t._v("devDependencies")]),t._v("  속성에 패키지를 추가시킨다. 이 옵션으로 설치된 패키지는, 앱이 실행되는 런타임 환경에는 영향을 미치지 않는다.")])]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("테스트 명령을 위한 script 속성을 pakage.json에 설정하자")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jest"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"axios"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^0.19.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"node-fetch"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.6.0"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jest"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^24.8.0"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("br"),t._v(" "),a("h4",{attrs:{id:"구현-코드-작성"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#구현-코드-작성"}},[t._v("#")]),t._v(" 구현 코드 작성")]),t._v(" "),a("p",[t._v("아직 구현 코드를 작성하지 않았기 때문에 테스트 실행이 되지 않을 것이다.")]),t._v(" "),a("p",[t._v("lib 폴더에 구현 코드를 작성해보자")]),t._v(" "),a("p",[a("code",[t._v("lib/github.js")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fetch "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-fetch'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GitHub")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" accessToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" baseURL "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accessToken "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" accessToken\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("baseURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" baseURL\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accessToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'accessToken is required.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("baseURL"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("/users/")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                Authorization"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("token ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accessToken"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GitHub\n")])])]),a("br"),t._v(" "),a("p",[t._v("이제 GitHub 홈페이지에서 access token을 생성해서 테스트해보자")]),t._v(" "),a("p",[t._v("토큰은 사용자마다 다르므로 자신이 생성한 토큰 값으로 입력한다")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ ACCESS_TOKEN=`자신의 토큰 코드` yarn test\n")])])]),a("p",[t._v("아래와 같이 테스트가 정상적으로 작동되어 출력되는 것을 확인할 수 있을 것이다!")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn run v1.10.1\n$ jest\n PASS  __tests__/github.test.js\n  Integration with GitHub API\n    √ Get a user (947ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        3.758s\nRan all test suites.\nDone in 5.30s.\n")])])]),a("br"),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"travis-ci를-활용한-리뷰-환경-개선"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#travis-ci를-활용한-리뷰-환경-개선"}},[t._v("#")]),t._v(" Travis CI를 활용한 리뷰 환경 개선")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("동료와 협업하여 애플리케이션을 개발하는 과정은, pull request를 생성하고 공유한 코드를 리뷰, 함께 개선하는 과정이라고 말할 수 있다.")]),t._v(" "),a("p",[t._v("지금까지 진행한 과정을 확인한 리뷰어가 다음과 같이 답을 보내왔다.")]),t._v(" "),a("br"),t._v(" "),a("blockquote",[a("p",[t._v("README.md를 참고해 테스트 명령을 실행했지만 실패했습니다..")])]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("무슨 문제일까? 내 로컬 환경에서는 분명 테스트 케이스를 통해 테스트 성공을 확인할 수 있었다. 리뷰어가 보낸 문제는, 다른 환경에서 테스트 실패로 인한 문제다.")]),t._v(" "),a("p",[t._v("이처럼 테스트케이스에 정의된 테스트를 실행하는 일은 개발과정에서 반복되는 작업이다. 따라서 리뷰어가 테스트를 매번 실행하게 하는 건 매우 비효율적이다.")]),t._v(" "),a("p",[t._v("CI 도구가 자동으로 실행하도록 프로젝트 리뷰 방법을 개선시켜보자")]),t._v(" "),a("br"),t._v(" "),a("h4",{attrs:{id:"travis-ci로-테스트-자동화"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#travis-ci로-테스트-자동화"}},[t._v("#")]),t._v(" Travis CI로 테스트 자동화")]),t._v(" "),a("p",[t._v("저장소의 Settings 탭에서 Branches를 클릭한 후, Branch protection rules에서 CI 연동기능을 사용해보자")]),t._v(" "),a("p",[t._v("(CI 도구 빌드 프로세스에 정의한 작업이 성공해야만 master 브랜치에 소스코드가 병합되도록 제약 조건을 주는 것)")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("대표적인 CI 도구는 Jenkins이지만, CI 서버 구축 운영에 비용이 든다.")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("Travis CI는 아래와 같은 작업을 위임한다")]),t._v(" "),a("ul",[a("li",[t._v("ESLint를 통한 코드 컨벤션 검증")]),t._v(" "),a("li",[t._v("Jest를 통한 테스트 자동화")])]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("Travis CI의 연동과 설정이 완료되면, pull request를 요청한 소스코드가 Travis CI를 거치도록 GitHub 저장소의 Branch protection rules 항목을 설정한다.")]),t._v(" "),a("p",[t._v("이를 설정해두면, 작성해둔 구현 코드와 테스트 코드로 pull request를 요청했을 때 Travis CI 서버에서 자동으로 테스트를 실행할 수 있게 된다.")]),t._v(" "),a("br"),t._v(" "),a("h4",{attrs:{id:"github-travis-ci-연동"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-travis-ci-연동"}},[t._v("#")]),t._v(" GitHub-Travis CI 연동")]),t._v(" "),a("p",[t._v("https://travis-ci.org/에서 GitHub Login")]),t._v(" "),a("p",[t._v("https://travis-ci.org/account/repositories에서 연결할 repository 허용")]),t._v(" "),a("p",[t._v("프로젝트에 .travis.yml 설정 파일 추가")]),t._v(" "),a("br"),t._v(" "),a("p",[a("code",[t._v(".travis.yml")])]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("language")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node_js\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node_js")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 10.15.0\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("yarn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("directories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" node_modules\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("global")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" PATH=$HOME/.yarn/bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$PATH\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" mongodb\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("before_install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" curl "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("L https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//yarnpkg.com/install.sh "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" bash\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" yarn install\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" yarn test\n")])])]),a("br"),t._v(" "),a("p",[t._v("다시 돌아와서, 리뷰어가 테스트를 실패한 이유는 access token 값이 전달되지 못했기 때문이다.")]),t._v(" "),a("p",[t._v("환경 변수를 관리하기 위해선 Git 저장소에서 설정 정보를 관리하고, 값의 유효성을 검증하는 것이 좋다.")]),t._v(" "),a("p",[t._v("(보안 문제가 있을 때는 다른 방법 강구)")]),t._v(" "),a("br"),t._v(" "),a("p",[a("code",[t._v("dotenv과 joi 모듈")]),t._v("을 사용하면, .env 할 일에 원하는 값을 등록하고 유효성 검증을 할 수 있다.")]),t._v(" "),a("p",[t._v("프로젝트에 .env 파일을 생성하고, access token 값을 등록해두자")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("이제 yarn으로 두 모듈을 설치한다.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ yarn add dotenv joi\n$ git add .\n$ git commit -m 'Integration with dotenv and joi to manage config properties'\n$ git push\n")])])]),a("p",[t._v("이제 Travis CI로 자동 테스트 결과를 확인할 수 있다.")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-js-버전-유지시키기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js-버전-유지시키기"}},[t._v("#")]),t._v(" Node.js 버전 유지시키기")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("개발자들간의 Node.js 버전이 달라서 문제가 발생할 수도 있다.")]),t._v(" "),a("p",[t._v("애플리케이션의 서비스를 안정적으로 관리하기 위해서는 개발자의 로컬 시스템, CI 서버, 빌드 서버의 Node.js 버전을 일관적으로 유지하는 것이 중요하다.")]),t._v(" "),a("br"),t._v(" "),a("p",[a("code",[t._v("package.json")]),t._v("에서 engines 속성, nvm을 활용해 버전을 일관되게 유지해보자")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"engines": {\n    "node": ">=10.15.3",\n },\n')])])]),a("br"),t._v(" "),a("p",[t._v(".nvmrc 파일 추가 후, nvm use 명령어를 실행하면 engines 속성에 설정한 Node.js의 버전을 사용한다.")]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ echo \"10.15.3\" > .nvmrc\n$ git add .\n$ nvm use\nFound '/Users/user/github/awesome-javascript/.nvmrc' with version <10.15.3>  \nNow using node v10.15.3 (npm v6.4.1)  \n...\n$ git commit -m 'Add .nvmrc to maintain the same Node.js LTS version'\n")])])]),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"지금까지-알아본-점"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#지금까지-알아본-점"}},[t._v("#")]),t._v(" 지금까지 알아본 점")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Git과 GitHub을 활용해 협업 공간을 구성")])]),t._v(" "),a("li",[a("p",[t._v("Node.js 기반 개발 환경과 테스트 환경 설정")])]),t._v(" "),a("li",[a("p",[t._v("개발 환경을 GitHub에 공유하고 리뷰하면서 발생 문제를 해결시켜나감")])])]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("지속적인 코드 리뷰를 하기 위해 자동화를 시키자. 이에 사용하기 좋은 것들")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("ESLint로 코드 컨벤션 검증")])]),t._v(" "),a("li",[a("p",[t._v("Jest로 테스트 자동화")])]),t._v(" "),a("li",[a("p",[t._v("Codecov로 코드 커버리지 점검")])]),t._v(" "),a("li",[a("p",[t._v("GitHub의 webhook api로 코드 리뷰 요청")])])]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("자동화를 시켜놓으면, 개발자들은 코드 의도를 알 수 있는 commit message, commit range만 신경 쓰면 된다.")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("협업하며 개발하는 과정에는 코드 작성 후 pull request를 생성하여 병합까지 많은 검증이 필요하다.")]),t._v(" "),a("p",[t._v("테스트 코드는 이 과정에서 예상치 못한 문제가 발생할 확률을 줄여주며, 구현 코드 의도를 효과적으로 전달할 수 있다.")]),t._v(" "),a("p",[t._v("또한 리뷰 시, 코드 컨벤션 검증뿐만 아니라 비즈니스 로직의 발생 문제도 고민이 가능하다.")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("h4",{attrs:{id:"참고-자료"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#참고-자료"}},[t._v("#")]),t._v(" [참고 자료]")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://d2.naver.com/helloworld/2564557",target:"_blank",rel:"noopener noreferrer"}},[t._v("링크"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);